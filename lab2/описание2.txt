Скрипт работает следующим образом:

1) В бесконечном цикле скрипт создает новый файловый дескриптор с номером 5, направленный в /var/lockfile и пытается заблокировать файл. Если блокировка успешна, скрипт продолжает выполнение. Если блокировка не успешна (файл уже заблокирован другим процессом), скрипт переходит на следующую итерацию цикла while, игнорируя оставшийся код до конца цикла.
2) Генерируется имя файла, путем выполнения цикла по числам от 001 до 999, с проверкой, существует ли файл с таким именем. Если файл не существует, выводится имя файла и цикл завершается.
3) После чего происходит разблокировка файла, выполняется запись имени хоста (hostname) и времени в секундах в new_file.
4) После паузы в одну секунду созданный файл удаляется.